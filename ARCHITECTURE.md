# OpenClaw Dashboard Architecture

## Component Structure

```
┌─────────────────────────────────────────────────────────────┐
│                    dashboard.html                            │
│  ┌───────────────────────────────────────────────────────┐  │
│  │               Top Navigation Bar                       │  │
│  │  ┌──────────┐  ┌─────────────────┐  ┌──────────────┐ │  │
│  │  │   Logo   │  │  Email | Chat   │  │ Agent | Voice│ │  │
│  │  └──────────┘  └─────────────────┘  └──────────────┘ │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                              │
│  ┌───────────────────────────────────────────────────────┐  │
│  │            Tab Content Container                       │  │
│  │                                                         │  │
│  │  ┌─────────────────────────────────────────────────┐  │  │
│  │  │  Email Queue Tab (Active)                       │  │  │
│  │  │  ┌──────┐ ┌─────────┐ ┌───────────────────┐    │  │  │
│  │  │  │Filter│ │  List   │ │    Preview Pane   │    │  │  │
│  │  │  │      │ │         │ │                   │    │  │  │
│  │  │  │ All  │ │ Draft 1 │ │  Subject: ...     │    │  │  │
│  │  │  │Pend  │ │ Draft 2 │ │  Body: ...        │    │  │  │
│  │  │  │Sent  │ │ Draft 3 │ │  [Approve][Edit]  │    │  │  │
│  │  │  │      │ │         │ │                   │    │  │  │
│  │  │  └──────┘ └─────────┘ └───────────────────┘    │  │  │
│  │  └─────────────────────────────────────────────────┘  │  │
│  │                                                         │  │
│  │  ┌─────────────────────────────────────────────────┐  │  │
│  │  │  Agent Chat Tab (iframe approach)               │  │  │
│  │  │  ┌───────────────────────────────────────────┐  │  │  │
│  │  │  │ <iframe src="/?session=agent:id:main">    │  │  │  │
│  │  │  │                                            │  │  │  │
│  │  │  │  ┌─────────────────────────────────────┐  │  │  │  │
│  │  │  │  │   Standalone Chat (index.html)      │  │  │  │  │
│  │  │  │  │                                      │  │  │  │  │
│  │  │  │  │   ┌─────────────────────────────┐   │  │  │  │  │
│  │  │  │  │   │  openclaw-app (Lit Element) │   │  │  │  │  │
│  │  │  │  │   │                              │   │  │  │  │  │
│  │  │  │  │   │  - Chat messages             │   │  │  │  │  │
│  │  │  │  │   │  - Input field               │   │  │  │  │  │
│  │  │  │  │   │  - WebSocket connection      │   │  │  │  │  │
│  │  │  │  │   │  - Voice controls            │   │  │  │  │  │
│  │  │  │  │   └─────────────────────────────┘   │  │  │  │  │
│  │  │  │  └─────────────────────────────────────┘  │  │  │  │
│  │  │  │                                            │  │  │  │
│  │  │  └───────────────────────────────────────────┘  │  │  │
│  │  └─────────────────────────────────────────────────┘  │  │
│  └───────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

## Why iframe Approach Works

1. **Isolation:** Chat runs in its own context
2. **Simplicity:** No complex integration logic
3. **Reliability:** Standalone chat already tested
4. **Maintainability:** Clear separation of concerns
5. **No conflicts:** CSS and WebSocket are isolated
